---
import {Cloudinary} from "@cloudinary/url-gen";
import { auto } from '@cloudinary/url-gen/actions/resize';
import { autoGravity } from "@cloudinary/url-gen/qualifiers/gravity";

const cld = new Cloudinary({
  cloud: {
    cloudName: 'giorgiosaud',
  },
  url: {
    secure: true, // force https, set to false to force http,
   // secureDistribution: 'www.giorgiosaud.io', 
  }
}); 
const {src,...props}=Astro.props;

interface Props{
    src:string;
    alt:string;
    width?:number;
    height?:number;
    sizes?:string;
}
let cldSrc=cld.image(src).format('auto').quality('auto');
if(props.width && props.height){
    cldSrc=cldSrc.resize(auto().gravity(autoGravity()).width(props.width).height(props.height)); //
}
---

<img loading="lazy" src={cldSrc.toURL()} {...props}>