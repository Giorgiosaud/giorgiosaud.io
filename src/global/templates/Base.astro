---
import '@global-styles/reset.css'
import '@global-styles/grid.css'
import '@global-styles/global.css'

import DebuggerTagManager from '@global-components/DebuggerTagManager.astro'
import Footer from '@global-components/Footer.astro'
import Head from '@global-components/Head/index.astro'
import Header from '@global-components/Header.astro'
import OfflineBar from '@global-components/OfflineBar.svelte'
import CookieConsent from '@global-components/CookieConsent.svelte'
import type { RouteNames } from '@i18n/utils'

export interface Props {
  lang?: string
  title?: string
  description?: string
  pathToTranslate: RouteNames
}
const {
  title,
  description,
  lang = 'en',
  pathToTranslate = 'home',
} = Astro.props

---

<!doctype html>
<html lang={lang}>
  <Head
    title={title}
    description={description}
  >
    <slot name="head"/>
    <script>
      // Initialize dataLayer for GTM - user state is pushed client-side by UserAvatar component
      window.dataLayer = window.dataLayer || [];
    </script>
  </Head>

  <body>
    <OfflineBar client:load />
    <DebuggerTagManager />
    <Header pathToTranslate={pathToTranslate} />
    <main class="content-grid">
      <slot />
    </main>
    <Footer />
    <CookieConsent client:load />
  </body>
</html>
