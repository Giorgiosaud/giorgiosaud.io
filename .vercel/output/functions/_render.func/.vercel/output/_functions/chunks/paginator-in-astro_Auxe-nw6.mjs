const id = "paginator-in-astro.md";
						const collection = "notes";
						const slug = "paginator-in-astro";
						const body = "\n# Basis of Pagination\n\nAstro like many other frameworks has a pagination system based on repeatable content, this content should belong to a single repository, Astro has collections, the collections are files written in .md and stored in the filesystem that can be processed internally by Astro, this allows to use in the build process some techniques to generate in 3 ways the website, we can configure the output as **static** where the build will generate all the static paths **server** where the build process will generate a server which processes all request supporting SSR (server-side rendering) or **hybrid** where some elements are statics and other are SSR ones.\n\n```bash\nsrc/\n  ├── content/\n  │   ├── blog/\n  │   │   └── blognote-1.md\n  │   │   └── blognote-2.md\n  │   └── config.ts\n  .\n  .\n  .\n  ├── layouts/\n  │   └── Layout.astro\n  ├── pages/\n  │   └── blog/\n  │       └── [slug].astro\n  │   └── index.astro\n  │   └── blog.astro\n  .\n  .\n  .\n```\n\nIn this structure, the blog can show the 2 blog notes of the content but when the blog grows not only the build process will take more time but the /blog path also renders more content than a normal page increasing the loading time of the final rendered site, then we think about pagination, we can add a paginator in the blog, but pagination in this page is almost impossible because this page is rendered with the ```getCollection``` function but for pagination purposes we need to use the ```getStaticPaths``` method, this is because this method is the one that generates dynamic routes to match the brackets syntax in the routing, then we need to separate this index page in 2 pages one that should be shown in the /blog and another that takes care of pages, and move the blog.astro to the blog file structure to allow us to manage all related blog issues inside of this folder, when we move it we need to rename to index.astro because the folder name is the route that we want.\n\n```bash\nsrc/\n  ├── content/\n  │   ├── blog/\n  │   │   └── blognote-1.md\n  │   │   └── blognote-2.md\n  │   │   .\n  │   │   .\n  │   │   .\n  │   │   └── blognote-31.md\n  │   │   └── blognote-32.md\n  │   └── config.ts\n  .\n  .\n  .\n  ├── layouts/\n  │   └── Layout.astro\n  ├── pages/\n  │   └── blog/\n  │       └── [slug].astro\n  │       └── [page].astro\n  │       └── index.astro\n  │   └── index.astro\n  .\n  .\n  .\n```\n\nWith this file structure now have all related blog pages in one place, and I choose to use one index and another page that takes care of the paginated ones all but page 1, that`s because if I use the same page for pagination or show the main show to avoid duplication will be /1 now I can handle this and make /1 canonical of /blog and in my index.astro inside the blog folder only shows one arrow to see the previous post that will move to /2 page of / blog like this ```blog/2```\n\nTo handle this canonical between ```blog/1```and ```blog``` I add a canonical property to my ```Layout.astro``` page  and in the head I add to the head this:\n\n```astro \n  {canonical&&<link rel=\"canonical\" href={canonical} />}\n```\nthen in the frontmatter part i delcared canonical as a Astr.prop and make it optional, then in the [page].astro i used it as.\n\n```astro\n<Layout title=\"Blog\" canonical={canonical}>\n.\n.\n.\n</Layout>\n```\n\nAnd there I added my page component let's talk about it in the getStaticPaths constant that we need to export we receive as a param the paginate method we can destroy the params to obtain it like this:\n\n```astro\n---\nexport const getStaticPaths:GetStaticPaths=async({paginate}) =>{\n    const publishedNotesEntries = await getCollection(\"blog\", ({ data }) => {\n      //filter draft props true and published in the future\n        return !data.draft && data.publishDate < new Date();\n    });\n    //sort entries\n    publishedNotesEntries.sort(function (a, b) {\n        return b.data.publishDate.valueOf() - a.data.publishDate.valueOf();\n    });\n\n    return paginate(publishedNotesEntries, {pageSize:4});\n}\n.\n.\n.\n---\n```\n\nThis technique now exposes the page data from astro props like this\n\n```astro\n---\n.\n.\n.\ntype Props = {\n  page: Page<CollectionEntry<'notes'>>;\n};\nconst { page } = Astro.props;\nlet canonical\nif (page.currentPage===1){\n    canonical=`/notebook/`;\n}\n---\n```\n\nAnd then we can make our paginator component that will receive these pages and render the specific page post we use page.data the Page will result in a component with this interface.\n\n```ts\ninterface Page{\n data: T[];\n    /** metadata */\n    /** the count of the first item on the page, starting from 0 */\n    start: number;\n    /** the count of the last item on the page, starting from 0 */\n    end: number;\n    /** total number of results */\n    total: number;\n    /** the current page number, starting from 1 */\n    currentPage: number;\n    /** number of items per page (default: 25) */\n    size: number;\n    /** number of last page */\n    lastPage: number;\n    url: {\n        /** url of the current page */\n        current: string;\n        /** url of the previous page (if there is one) */\n        prev: string | undefined;\n        /** url of the next page (if there is one) */\n        next: string | undefined;\n    };\n}\n``` \n\nThen from the data we get the data collection to show, start is the number of indexes of the first post on the page end of the last one, the total is the total numbers in the collection, currentPage is the actual page, size is the items Per page or pageSize that we pass to the first method, lastPage is the number of the last page important for the paginator element and URL are actual previous and next.\n\nThen we can use a paginator component like this:\n\n```astro\n---\nimport Link from \"@components/ui/link.astro\";\nimport type { Page } from \"astro\";\nimport { Icon } from \"astro-icon/components\";\n\ninterface Props{\n    page:Page\n}\n\nconst {page}=Astro.props;\nconst totalPages=Math.ceil(page.total/page.size);\nconst pagesArray = Array.from({ length: totalPages }, (_, i) => i + 1);\n---\n<hr class=\"mt-4\">\n<section class=\"grid grid-cols-3 py-3\">\n    <div class=\"flex justify-start\">\n        {\n            page.url.prev &&\n            <Link\n            size=\"md\"\n            href={page.url.prev}\n            style=\"inverted\"\n            class=\"flex gap place-items-center hover:bg-slate-600 py-3 px-4 group\">\n            <-\n        </Link>\n    }\n</div>\n<div class=\"flex justify-center\">\n    {pagesArray.map(pageX=>{\n        return(\n            <Link\n            size=\"md\"\n            href={`/notebook/${pageX}`}\n            style=\"pages\"\n            class:list={[{'bg-slate-600 text-white':pageX===page.currentPage}]}\n            class=\"flex gap place-items-center\">\n            {pageX}\n            \n        </Link>\n    )\n    })}\n</div>\n<div class=\"flex justify-end\">\n    {\n        page.url.next &&\n        <Link\n        size=\"md\"\n        href={page.url.next}\n        style=\"inverted\"\n        \n        class=\"flex gap place-items-center hover:bg-slate-600 py-3 px-4 group\">\n        ->\n    </Link>\n}\n</div>\n\n</section>\n```\n\nThis component is stylized with tailwind.css but you can create your one.\n\nThanks, thats all as always if you think that can help to make this post better or detect a bad practice please notify me in the contact form and I will be in touch with you to fix it.\n";
						const data = {draft:false,title:"Paginator in astro",resume:"Paginate a website in Astro or any other framework like next.js or nuxt is a challenge but not because is difficult to implement but because is difficult to understand, in this post i will try to illustrate how the paginator of this website was made.",selfHealing:"000007",image:{src:"paginator",alt:"Full pages with an indiator"},publishDate:new Date(1716299100000),author:{slug:"jorge-saud",collection:"team"},category:"Development",tags:["astro","next","nuxt","frontent","backend"]};
						const _internal = {
							type: 'content',
							filePath: "/Users/giorgiosaud/Projects/personal/giorgiosaud.io/src/content/notes/paginator-in-astro.md",
							rawData: undefined,
						};

export { _internal, body, collection, data, id, slug };
