<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="icon" type="image/png" href="/favicon.png"><link rel="apple-touch-icon" sizes="57x57" href="apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="manifest" href="/manifest.json?v=38"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="sitemap" href="/sitemap-index.xml"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v4.15.4"><script type="json/speculationrules">
    {
      "prerender": [{
        "source": "document",
        "where": {
          "and": [
            { "href_matches": "/*" },
            { "not": {"href_matches": "/logout/*"}}
          ]
        },
        "eagerness": "moderate"
      }]
    }
  </script><!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-MDK3K8G2');</script><!-- End Google Tag Manager --><!-- <link rel="preload" as="image" href={src} alt="Hero" /> --><title>Repository pattern in frontend | Giorgiosaud.io</title><meta charset="UTF-8"><link rel="canonical" href="https://giorgiosaud.io/es/cuaderno/repository-pattern/"><meta name="description" content="The Repository Pattern in frontend development abstracts data access logic, enhancing code maintainability and testability by encapsulating operations and promoting loose coupling. It fosters modular, scalable codebases adaptable to changing requirements."><meta name="robots" content="index, follow"><meta property="og:title" content="Giorgiosaud.io - Repository pattern in frontend"><meta property="og:type" content="blog"><meta property="og:image" content="https://res.cloudinary.com/giorgiosaud/image/upload/f_auto/q_auto/c_auto,g_auto,w_300/v1/notebook-posts/repository%20pattern?_a=DATAg1WMZAA0"><meta property="og:url" content="https://giorgiosaud.io/es/cuaderno/repository-pattern/"><meta property="og:description" content="The Repository Pattern in frontend development abstracts data access logic, enhancing code maintainability and testability by encapsulating operations and promoting loose coupling. It fosters modular, scalable codebases adaptable to changing requirements."><meta property="og:locale" content="en_US"><meta property="og:site_name" content="Giorigosaud Notebook"><meta property="og:image:url" content="https://res.cloudinary.com/giorgiosaud/image/upload/f_auto/q_auto/c_auto,g_auto,w_300/v1/notebook-posts/repository%20pattern?_a=DATAg1WMZAA0"><meta property="og:image:alt" content="Repository pattern in frontend"><meta property="article:published_time" content="2024-05-21T13:45:00.000Z"><meta property="article:section" content="Architecture"><meta property="article:tag" content="microfrontend"><meta property="article:tag" content="development"><meta property="article:tag" content="frontend"><meta property="article:tag" content="backend"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="https://giorgiosaud.io"><meta name="twitter:title" content="Repository pattern in frontend - Giorgio Notebook"><meta name="twitter:image" content="https://res.cloudinary.com/giorgiosaud/image/upload/f_auto/q_auto/c_auto,g_auto,w_300/v1/notebook-posts/repository%20pattern?_a=DATAg1WMZAA0"><meta name="twitter:description" content="The Repository Pattern in frontend development abstracts data access logic, enhancing code maintainability and testability by encapsulating operations and promoting loose coupling. It fosters modular, scalable codebases adaptable to changing requirements."><meta name="twitter:creator" content="@giorgiosaud"><script type="application/ld+json">
    {
      "@context": "https://schema.org/",
      "@type": "NewsArticle",
      "headline": {article.title},
      "image": {
        "@type": "ImageObject",
        "url": {image},
        "width": "430",
        "height": "240"
      },
      "author": {
        "@type": "Person",
        "name": "Giorgio Saud",
        "url": "https://giorgiosaud.io/about/"
        
      },
      
      "publisher": {
        "@type": "Organization",
        "name": "Personal Website",
        "logo": {
          "@type": "ImageObject",
          "url": "https://res.cloudinary.com/giorgiosaud/image/upload/f_auto/q_auto/c_auto,h_400,w_300/e_bgremoval/c_auto,g_auto,h_280/ar_1.0,c_auto,g_auto/My%20photo?_a=DATAdtIIZAA0",
          "width": "280",
          "height": "280"
        }
      },
      "datePublished": {article.publishedTime}
      "dateModified": {article.modifiedTime},
    }
  </script><link rel="stylesheet" href="/_astro/about.B06uz7-b.css">
<style>@font-face{font-family:Inter Variable;font-style:normal;font-display:swap;font-weight:100 900;src:url(/_astro/inter-cyrillic-ext-wght-normal.B2xhLi22.woff2) format("woff2-variations");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter Variable;font-style:normal;font-display:swap;font-weight:100 900;src:url(/_astro/inter-cyrillic-wght-normal.CMZtQduZ.woff2) format("woff2-variations");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter Variable;font-style:normal;font-display:swap;font-weight:100 900;src:url(/_astro/inter-greek-ext-wght-normal.CGAr0uHJ.woff2) format("woff2-variations");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter Variable;font-style:normal;font-display:swap;font-weight:100 900;src:url(/_astro/inter-greek-wght-normal.CaVNZxsx.woff2) format("woff2-variations");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter Variable;font-style:normal;font-display:swap;font-weight:100 900;src:url(/_astro/inter-vietnamese-wght-normal.CBcvBZtf.woff2) format("woff2-variations");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter Variable;font-style:normal;font-display:swap;font-weight:100 900;src:url(/_astro/inter-latin-ext-wght-normal.CFHvXkgd.woff2) format("woff2-variations");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter Variable;font-style:normal;font-display:swap;font-weight:100 900;src:url(/_astro/inter-latin-wght-normal.C2S99t-D.woff2) format("woff2-variations");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@view-transition{navigation: auto;}img{content-visibility:auto}
@keyframes astroFadeInOut{0%{opacity:1}to{opacity:0}}@keyframes astroFadeIn{0%{opacity:0}}@keyframes astroFadeOut{to{opacity:0}}@keyframes astroSlideFromRight{0%{transform:translate(100%)}}@keyframes astroSlideFromLeft{0%{transform:translate(-100%)}}@keyframes astroSlideToRight{to{transform:translate(100%)}}@keyframes astroSlideToLeft{to{transform:translate(-100%)}}@media (prefers-reduced-motion){::view-transition-group(*),::view-transition-old(*),::view-transition-new(*){animation:none!important}[data-astro-transition-scope]{animation:none!important}}
</style><script type="module" src="/_astro/hoisted.BRub0mnn.js"></script>
<script>if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/service-worker.js');
}</script>
<script>window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
		var script = document.createElement('script');
		script.defer = true;
		script.src = '/_vercel/insights/script.js';
		var head = document.querySelector('head');
		head.appendChild(script);
	</script><style>[data-astro-transition-scope="astro-loldmj2y-1"] { view-transition-name: repository-pattern_2emd_20category; }@layer astro { ::view-transition-old(repository-pattern_2emd_20category) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(repository-pattern_2emd_20category) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(repository-pattern_2emd_20category) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(repository-pattern_2emd_20category) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-loldmj2y-1"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-loldmj2y-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-loldmj2y-1"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-loldmj2y-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-loldmj2y-1"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-loldmj2y-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-loldmj2y-1"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-loldmj2y-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-ggzsfqa3-2"] { view-transition-name: repository-pattern_2emd_20title; }@layer astro { ::view-transition-old(repository-pattern_2emd_20title) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(repository-pattern_2emd_20title) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(repository-pattern_2emd_20title) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(repository-pattern_2emd_20title) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-ggzsfqa3-2"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-ggzsfqa3-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-ggzsfqa3-2"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-ggzsfqa3-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-ggzsfqa3-2"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-ggzsfqa3-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-ggzsfqa3-2"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-ggzsfqa3-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-trv3mscf-3"] { view-transition-name: repository-pattern_2emd_20meta; }@layer astro { ::view-transition-old(repository-pattern_2emd_20meta) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(repository-pattern_2emd_20meta) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(repository-pattern_2emd_20meta) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(repository-pattern_2emd_20meta) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-trv3mscf-3"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-trv3mscf-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-trv3mscf-3"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-trv3mscf-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-trv3mscf-3"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-trv3mscf-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-trv3mscf-3"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-trv3mscf-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-bpi2fegz-4"] { view-transition-name: Giorgio_20Saud_20alias; }@layer astro { ::view-transition-old(Giorgio_20Saud_20alias) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(Giorgio_20Saud_20alias) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(Giorgio_20Saud_20alias) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(Giorgio_20Saud_20alias) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-bpi2fegz-4"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-bpi2fegz-4"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-bpi2fegz-4"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-bpi2fegz-4"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-bpi2fegz-4"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-bpi2fegz-4"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-bpi2fegz-4"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-bpi2fegz-4"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-jvpylcxo-5"] { view-transition-name: repository-pattern_2emd_20img; }@layer astro { ::view-transition-old(repository-pattern_2emd_20img) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(repository-pattern_2emd_20img) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(repository-pattern_2emd_20img) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(repository-pattern_2emd_20img) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-jvpylcxo-5"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-jvpylcxo-5"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-jvpylcxo-5"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-jvpylcxo-5"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-jvpylcxo-5"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-jvpylcxo-5"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-jvpylcxo-5"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-jvpylcxo-5"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-mrvkmjbi-6"] { view-transition-name: repository-pattern_2emd_20resume; }@layer astro { ::view-transition-old(repository-pattern_2emd_20resume) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(repository-pattern_2emd_20resume) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(repository-pattern_2emd_20resume) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(repository-pattern_2emd_20resume) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-mrvkmjbi-6"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-mrvkmjbi-6"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-mrvkmjbi-6"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-mrvkmjbi-6"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-mrvkmjbi-6"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-mrvkmjbi-6"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-mrvkmjbi-6"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-mrvkmjbi-6"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style></head> <body> <vercel-speed-insights data-props="{}" data-params="{&#34;slug&#34;:&#34;repository-pattern&#34;}" data-pathname="/es/cuaderno/repository-pattern/"></vercel-speed-insights>  <!-- Google Tag Manager (noscript) --> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MDK3K8G2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript> <!-- End Google Tag Manager (noscript) --> <div class="sticky top-0 z-50 bg-slate-100 py-5 opacity-85"> <div class="max-w-4xl mx-auto px-5">  <header class="flex flex-col lg:flex-row justify-between items-center">  <div class="flex w-full lg:w-auto items-center justify-between"> <a href="/es/" class="text-lg"><span class="font-bold text-slate-800">Giorgiosaud</span><span class="text-slate-500">.io</span> </a> <div class="block lg:hidden"> <button id="astronav-menu" aria-label="Toggle Menu">  <svg fill="currentColor" class="w-4 h-4 text-gray-800" width="24" height="24" viewBox="0 0 24 24" xmlns="https://www.w3.org/2000/svg"> <title>Toggle Menu</title> <path class="astronav-close-icon astronav-toggle hidden" fill-rule="evenodd" clip-rule="evenodd" d="M18.278 16.864a1 1 0 01-1.414 1.414l-4.829-4.828-4.828 4.828a1 1 0 01-1.414-1.414l4.828-4.829-4.828-4.828a1 1 0 011.414-1.414l4.829 4.828 4.828-4.828a1 1 0 111.414 1.414l-4.828 4.829 4.828 4.828z"></path> <path class="astronav-open-icon astronav-toggle" fill-rule="evenodd" d="M4 5h16a1 1 0 010 2H4a1 1 0 110-2zm0 6h16a1 1 0 010 2H4a1 1 0 010-2zm0 6h16a1 1 0 010 2H4a1 1 0 010-2z"></path> </svg>  </button> </div> </div> <nav class="astronav-items astronav-toggle hidden w-full lg:w-auto mt-2 lg:flex lg:mt-0">  <ul class="flex flex-col lg:flex-row lg:gap-3"> <li> <a href="/es/acerca-de-mi" class="flex lg:px-3 py-2 items-center text-gray-600 hover:text-gray-900"> <span> Acerca de mi</span> <span class="ml-1 px-2 py-0.5 text-[10px] animate-pulse font-semibold uppercase text-white bg-indigo-600 rounded-full">
New
</span> </a> </li><li> <a href="/es/cuaderno" class="flex lg:px-3 py-2 items-center text-gray-600 hover:text-gray-900"> <span> Cuaderno</span>  </a> </li><li> <a href="/es/contactame" class="flex lg:px-3 py-2 items-center text-gray-600 hover:text-gray-900"> <span> Contáctame</span>  </a> </li> </ul>  </nav>  <script>(function(){const closeOnClick = false;

["DOMContentLoaded", "astro:after-swap"].forEach((event) => {
  document.addEventListener(event, addListeners);
});

// Function to clone and replace elements
function cloneAndReplace(element) {
  const clone = element.cloneNode(true);
  element.parentNode.replaceChild(clone, element);
}

function addListeners() {
  // Clean up existing listeners
  const oldMenuButton = document.getElementById("astronav-menu");
  if (oldMenuButton) {
    cloneAndReplace(oldMenuButton);
  }

  const oldDropdownMenus = document.querySelectorAll(".astronav-dropdown");
  oldDropdownMenus.forEach((menu) => {
    cloneAndReplace(menu);
  });

  // Mobile nav toggle
  const menuButton = document.getElementById("astronav-menu");
  menuButton && menuButton.addEventListener("click", toggleMobileNav);

  // Dropdown menus
  const dropdownMenus = document.querySelectorAll(".astronav-dropdown");
  dropdownMenus.forEach((menu) => {
    const button = menu.querySelector("button");
    button &&
      button.addEventListener("click", (event) =>
        toggleDropdownMenu(event, menu, dropdownMenus)
      );

    // Handle Submenu Dropdowns
    const dropDownSubmenus = menu.querySelectorAll(
      ".astronav-dropdown-submenu"
    );

    dropDownSubmenus.forEach((submenu) => {
      const submenuButton = submenu.querySelector("button");
      submenuButton &&
        submenuButton.addEventListener("click", (event) => {
          event.stopImmediatePropagation();
          toggleSubmenuDropdown(event, submenu);
        });
    });
  });

  // Clicking away from dropdown will remove the dropdown class
  document.addEventListener("click", closeAllDropdowns);

  if (closeOnClick) {
    handleCloseOnClick();
  }
}

function toggleMobileNav() {
  [...document.querySelectorAll(".astronav-toggle")].forEach((el) => {
    el.classList.toggle("hidden");
  });
}

function toggleDropdownMenu(event, menu, dropdownMenus) {
  toggleMenu(menu);

  // Close one dropdown when selecting another
  Array.from(dropdownMenus)
    .filter((el) => el !== menu && !menu.contains(el))
    .forEach(closeMenu);

  event.stopPropagation();
}

function toggleSubmenuDropdown(event, submenu) {
  event.stopPropagation();
  toggleMenu(submenu);

  // Close sibling submenus at the same nesting level
  const siblingSubmenus = submenu
    .closest(".astronav-dropdown")
    .querySelectorAll(".astronav-dropdown-submenu");
  Array.from(siblingSubmenus)
    .filter((el) => el !== submenu && !submenu.contains(el))
    .forEach(closeMenu);
}

function closeAllDropdowns(event) {
  const dropdownMenus = document.querySelectorAll(".dropdown-toggle");
  const dropdownParent = document.querySelectorAll(
    ".astronav-dropdown, .astronav-dropdown-submenu"
  );
  const isButtonInsideDropdown = [
    ...document.querySelectorAll(
      ".astronav-dropdown button, .astronav-dropdown-submenu button, #astronav-menu"
    ),
  ].some((button) => button.contains(event.target));
  if (!isButtonInsideDropdown) {
    dropdownMenus.forEach((d) => {
      // console.log("I ran", d);
      // if (!d.contains(event.target)) {
      d.classList.remove("open");
      d.removeAttribute("open");
      d.classList.add("hidden");
      // }
    });
    dropdownParent.forEach((d) => {
      d.classList.remove("open");
      d.removeAttribute("open");
      d.setAttribute("aria-expanded", "false");
    });
  }
}

function toggleMenu(menu) {
  menu.classList.toggle("open");
  const expanded = menu.getAttribute("aria-expanded") === "true";
  menu.setAttribute("aria-expanded", expanded ? "false" : "true");
  menu.hasAttribute("open")
    ? menu.removeAttribute("open")
    : menu.setAttribute("open", "");

  const dropdownToggle = menu.querySelector(".dropdown-toggle");
  const dropdownExpanded = dropdownToggle.getAttribute("aria-expanded");
  dropdownToggle.classList.toggle("hidden");
  dropdownToggle.setAttribute(
    "aria-expanded",
    dropdownExpanded === "true" ? "false" : "true"
  );
}

function closeMenu(menu) {
  // console.log("closing", menu);
  menu.classList.remove("open");
  menu.removeAttribute("open");
  menu.setAttribute("aria-expanded", "false");
  const dropdownToggles = menu.querySelectorAll(".dropdown-toggle");
  dropdownToggles.forEach((toggle) => {
    toggle.classList.add("hidden");
    toggle.setAttribute("aria-expanded", "false");
  });
}

function handleCloseOnClick() {
  const navMenuItems = document.querySelector(".astronav-items");
  const navToggle = document.getElementById("astronav-menu");
  const navLink = navMenuItems && navMenuItems.querySelectorAll("a");

  const MenuIcons = navToggle.querySelectorAll(".astronav-toggle");

  navLink &&
    navLink.forEach((item) => {
      item.addEventListener("click", () => {
        navMenuItems?.classList.add("hidden");
        MenuIcons.forEach((el) => {
          el.classList.toggle("hidden");
        });
      });
    });
}
})();</script> </header>  </div> </div>  <div class="max-w-4xl mx-auto px-5">  <div class="mx-auto max-w-3xl mt-14"> <header> <span class="text-blue-400 uppercase tracking-wider text-sm font-medium" data-astro-transition-scope="astro-loldmj2y-1"> Architecture </span> <h1 class="text-4xl lg:text-5xl font-bold lg:tracking-tight mt-1 lg:leading-tight" data-astro-transition-scope="astro-ggzsfqa3-2"> Repository pattern in frontend </h1> <div class="flex gap-2 mt-3 items-center flex-wrap md:flex-nowrap" data-astro-transition-scope="astro-trv3mscf-3"> <a href="/team/jorge-saud" class="text-gray-400" data-astro-transition-scope="astro-bpi2fegz-4">Giorgio Saud</a> <span class="text-gray-400">•</span> <time class="text-gray-400" datetime="2024-05-21T13:45:00.000Z"> Tue May 21 2024 </time> <span class="text-gray-400 hidden md:block">•</span> <div class="text-gray-400"> <span class="text-sm text-gray-400">#microfrontend </span><span class="text-sm text-gray-400">#development </span><span class="text-sm text-gray-400">#frontend </span><span class="text-sm text-gray-400">#backend </span> </div> </div> <figure class="mx-auto max-w-3xl aspect-square w-full"> <img alt="Repository Pattern" aspectRatio="1" loading="eager" decoding="sync" class="w-full rounded-md object-cover object-center bg-white aspect-square" data-astro-transition-scope="astro-jvpylcxo-5" src="https://res.cloudinary.com/giorgiosaud/image/upload/f_auto/q_auto/ar_1.0,c_auto,g_auto/v1/notebook-posts/repository%20pattern?_a=DATAg1WMZAA0"> <figcaption class="text-gray-400 text-xs text-center w-100 pt-2"> Repository Pattern </figcaption> </figure> <details> <summary>Summary</summary> <p class="text-sm text-gray-400" data-astro-transition-scope="astro-mrvkmjbi-6"> The Repository Pattern in frontend development abstracts data access logic, enhancing code maintainability and testability by encapsulating operations and promoting loose coupling. It fosters modular, scalable codebases adaptable to changing requirements. </p> </details> </header> </div> <div class="mx-auto prose prose-lg mt-6 max-w-3xl"> <p>In the world of frontend development, managing data efficiently is crucial for building scalable and maintainable applications. One architectural pattern that has proven to be highly effective in achieving this goal is the Repository Pattern. Traditionally used in backend development, the Repository Pattern is increasingly being adopted in frontend development for its ability to decouple data access logic from business logic.</p>
<p>This has been growing with techniques like micro-frontend architecture where we need to decouple and isolate terms but also keep some elements shareables between projects to keep consistency here is where the data management can become a mess, and we need to take some architectural decisions to accomplish this consistency, and avoid rework.</p>
<h2 id="the-repository-pattern-is-important-for-several-reasons-that-i-call-star-d">The Repository Pattern is important for several reasons, that I call STAR-D</h2>
<ul>
<li>
<p><strong>Separation of concerns (Definition of Clients and Separation of Scopes):</strong> The pattern helps define clear boundaries between different parts of the application. It separates the data access logic (clients, repositories) from the business logic, and Api calls, ensuring that each part of the code has a single responsibility and is easier to manage.</p>
</li>
<li>
<p><strong>Testability:</strong> This means that repositories methods can be easily mocked, making it simpler to write unit tests for your micro-frontend. Leading to more reliable and maintainable code, and also allow us to make mock of simplest request actions and test the failed request scenarios.</p>
</li>
<li>
<p><strong>Abstracted data hadling (Decoupling Component Logic from Data Consumption and Delivery):</strong> The Repository Pattern allows the definition of the component and its logic to be decoupled from how data is consumed and delivered. This means that components can focus purely on rendering and user interaction, while repositories handle data retrieval and processing. This separation of concerns leads to cleaner and more maintainable code.</p>
</li>
<li>
<p><strong>Reusablity:</strong> When we separate the client of the request and the repository method from the interface and declare the methods that shoud be used from the component, you are making a segregation that allows us to use the same client for many repositories because not always but many times when we work with SSO the authorization method in apis is the same, then you dont need to write this login in every call you only write the client well and make the request in the repository, wich allow us also to make the request more abstract and if for come reason the client or request changes the component get the same data and work as well as before, even if the mapping changes the repository take charge of it to avoid changes in the component.</p>
</li>
<li>
<p><strong>Definition Clarity (Type Safety with TypeScript):</strong> Typescript allow us to make more predictable code, and not wait until raise a local dev environment or use console logs to get typos errors, with Ts we can define the interface of our component and the interface of our apis responses to make easy the mapping of the request.</p>
</li>
</ul>
<p>By incorporating the Repository Pattern, frontend developers can create applications that are not only easier to test and maintain but also more flexible and adaptable to changes.</p>
<h2 id="example">Example</h2>
<p>In this example, i will explore how to implement the Repository Pattern in a React application using TypeScript. I will create a folder structure that includes repositories for fetching data from an API and a mock data source. This setup allows us to switch bet
en real and mock data sources seamlessly, demonstrating the flexibility and ease of testing that the Repository Pattern provides.</p>
<h3 id="folder-structure">Folder Structure</h3>
<p>In this folder structure, you can create a repository pattern that is framework-agnostic, making it suitable for use in any framework.</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="zsh"><code><span class="line"><span style="color:#80A665">src/</span></span>
<span class="line"><span style="color:#80A665">  ├──</span><span style="color:#C98A7D"> repositories/</span></span>
<span class="line"><span style="color:#80A665">  │</span><span style="color:#C98A7D">   ├──</span><span style="color:#C98A7D"> clients/</span></span>
<span class="line"><span style="color:#80A665">  │</span><span style="color:#C98A7D">   │</span><span style="color:#C98A7D">   └──</span><span style="color:#C98A7D"> ApiClient.ts</span></span>
<span class="line"><span style="color:#80A665">  │</span><span style="color:#C98A7D">   ├──</span><span style="color:#C98A7D"> SummaryRepository.ts</span></span>
<span class="line"><span style="color:#80A665">  │</span><span style="color:#C98A7D">   ├──</span><span style="color:#C98A7D"> TransactionsRepository.ts</span></span>
<span class="line"><span style="color:#80A665">  │</span><span style="color:#C98A7D">   └──</span><span style="color:#C98A7D"> RepositoryFactory.ts</span></span>
<span class="line"><span style="color:#80A665">  ├──</span><span style="color:#C98A7D"> interfaces/</span></span>
<span class="line"><span style="color:#80A665">  │</span><span style="color:#C98A7D">   └──</span><span style="color:#C98A7D"> apis</span></span>
<span class="line"><span style="color:#80A665">  │</span><span style="color:#C98A7D">       └──</span><span style="color:#C98A7D"> summary</span></span>
<span class="line"><span style="color:#80A665">  │</span><span style="color:#C98A7D">           └──</span><span style="color:#C98A7D"> Get.d.ts</span></span>
<span class="line"><span style="color:#80A665">  │</span><span style="color:#C98A7D">           └──</span><span style="color:#C98A7D"> GetPaths.ts</span></span>
<span class="line"><span style="color:#80A665">  │</span><span style="color:#C98A7D">       └──</span><span style="color:#C98A7D"> transactions</span></span>
<span class="line"><span style="color:#80A665">  │</span><span style="color:#C98A7D">           └──</span><span style="color:#C98A7D"> Get.d.ts</span></span>
<span class="line"><span style="color:#80A665">  │</span><span style="color:#C98A7D">           └──</span><span style="color:#C98A7D"> GetPaths.ts</span></span>
<span class="line"><span style="color:#80A665">  │</span><span style="color:#C98A7D">           └──</span><span style="color:#C98A7D"> Post.d.ts</span></span>
<span class="line"><span style="color:#80A665">  │</span><span style="color:#C98A7D">   └──</span><span style="color:#C98A7D"> IApiClient.ts</span></span>
<span class="line"><span style="color:#80A665">  └──</span><span style="color:#C98A7D"> components/</span></span>
<span class="line"><span style="color:#80A665">      └──</span><span style="color:#C98A7D"> DataComponent.tsx</span></span>
<span class="line"></span></code></pre>
<h3 id="implementation">Implementation</h3>
<p>Now, I will define each file in this folder structure, starting with the simplest one: the interface definitions. Here, we will define and agree upon the API or SDK contract between our component and the requested resource.</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="ts"><code><span class="line"><span style="color:#758575DD">// src/interfaces/apis/summary/Get.d.ts</span></span>
<span class="line"><span style="color:#4D9375">import</span><span style="color:#666666"> {</span><span style="color:#BD976A"> GetPaths</span><span style="color:#666666"> }</span><span style="color:#4D9375"> from</span><span style="color:#C98A7D77"> '</span><span style="color:#C98A7D">./GetPaths</span><span style="color:#C98A7D77">'</span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375">export</span><span style="color:#CB7676"> interface</span><span style="color:#5DA994"> ISummaryAccountsResponse</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#C98A7D77">  '</span><span style="color:#C98A7D">amount</span><span style="color:#C98A7D77">'</span><span style="color:#666666">: </span><span style="color:#5DA994">number</span></span>
<span class="line"><span style="color:#666666">}</span></span>
<span class="line"><span style="color:#4D9375">export</span><span style="color:#CB7676"> interface</span><span style="color:#5DA994"> ISummaryCardsResponse</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#C98A7D77">  '</span><span style="color:#C98A7D">amount</span><span style="color:#C98A7D77">'</span><span style="color:#666666">: </span><span style="color:#5DA994">number</span></span>
<span class="line"><span style="color:#666666">}</span></span>
<span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> GetSummaryAccounts</span><span style="color:#666666"> =</span><span style="color:#666666"> (</span><span style="color:#BD976A">string</span><span style="color:#666666">:</span><span style="color:#5DA994">TPaths</span><span style="color:#666666">.</span><span style="color:#5DA994">SUMMARY_ACCOUNT</span><span style="color:#666666">)=></span><span style="color:#5DA994">Promise</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">ISummaryAccountsResponse</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> GetSummaryCards</span><span style="color:#666666"> =</span><span style="color:#666666"> (</span><span style="color:#BD976A">string</span><span style="color:#666666">:</span><span style="color:#5DA994">TPaths</span><span style="color:#666666">.</span><span style="color:#5DA994">SUMMARY_CARD</span><span style="color:#666666">)=></span><span style="color:#5DA994">Promise</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">ISummaryCardsResponse</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#4D9375">export</span><span style="color:#CB7676"> type</span><span style="color:#5DA994"> GetData</span><span style="color:#666666"> =</span><span style="color:#5DA994"> GetSummaryAccounts</span><span style="color:#666666"> &#x26;</span><span style="color:#5DA994"> GetSummaryCards</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#4D9375">export</span><span style="color:#CB7676"> enum</span><span style="color:#5DA994"> TPaths</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">  SUMMARY_ACCOUNT</span><span style="color:#666666"> =</span><span style="color:#C98A7D77"> '</span><span style="color:#C98A7D">summary</span><span style="color:#C98A7D77">'</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  SUMMARY_CARD</span><span style="color:#666666"> =</span><span style="color:#C98A7D77"> '</span><span style="color:#C98A7D">summary/card</span><span style="color:#C98A7D77">'</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#666666">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<p>And the endpoint paths in GetPaths</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="ts"><code><span class="line"><span style="color:#758575DD">// src/interfaces/apis/summary/GetPaths.ts</span></span>
<span class="line"><span style="color:#4D9375">export</span><span style="color:#CB7676"> enum</span><span style="color:#5DA994"> GetPaths</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">  KEY</span><span style="color:#666666"> =</span><span style="color:#C98A7D77"> '</span><span style="color:#C98A7D">key</span><span style="color:#C98A7D77">'</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  PULIC_KEY</span><span style="color:#666666"> =</span><span style="color:#C98A7D77"> '</span><span style="color:#C98A7D">pubkey</span><span style="color:#C98A7D77">'</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#666666">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<p>Transactions should be the same as before</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="ts"><code><span class="line"><span style="color:#758575DD">// src/interfaces/apis/transactions/Get.ts</span></span>
<span class="line"><span style="color:#4D9375">import</span><span style="color:#666666"> {</span><span style="color:#BD976A"> TPaths</span><span style="color:#666666"> }</span><span style="color:#4D9375"> from</span><span style="color:#C98A7D77"> '</span><span style="color:#C98A7D">./GetPaths</span><span style="color:#C98A7D77">'</span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">interface</span><span style="color:#5DA994"> ITransaction</span><span style="color:#666666">{</span></span>
<span class="line"><span style="color:#BD976A">    date</span><span style="color:#666666">: </span><span style="color:#5DA994">Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    description</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    amount</span><span style="color:#666666">: </span><span style="color:#5DA994">number</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    isCleared</span><span style="color:#666666">: </span><span style="color:#5DA994">boolean</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span></span>
<span class="line"><span style="color:#4D9375">export</span><span style="color:#CB7676"> interface</span><span style="color:#5DA994"> ITransactions</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">  transactions</span><span style="color:#666666">[]: </span><span style="color:#5DA994">ITransaction</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> GetTransactions</span><span style="color:#666666"> =</span><span style="color:#666666"> (</span><span style="color:#BD976A">string</span><span style="color:#666666">:</span><span style="color:#5DA994">TPaths</span><span style="color:#666666">.</span><span style="color:#5DA994">TRANSACTIONS</span><span style="color:#666666">)=></span><span style="color:#5DA994">Promise</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">ITransactions</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#4D9375">export</span><span style="color:#CB7676"> type</span><span style="color:#5DA994"> GetData</span><span style="color:#666666"> =</span><span style="color:#5DA994"> GetTransactions</span><span style="color:#666666">;</span></span>
<span class="line"></span></code></pre>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="ts"><code><span class="line"><span style="color:#758575DD">// src/interfaces/apis/transactions/GetPaths.ts</span></span>
<span class="line"><span style="color:#4D9375">export</span><span style="color:#CB7676"> enum</span><span style="color:#5DA994"> TPaths</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">  TRANSACTIONS</span><span style="color:#666666"> =</span><span style="color:#C98A7D77"> '</span><span style="color:#C98A7D">transactions</span><span style="color:#C98A7D77">'</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#666666">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<p>All the elements defined in these interfaces are the ones that our already-made component requires to work properly.</p>
<p>Then lets go for more, lets work in the client and try to implement it in 2 ways an axios one and a fetch one</p>
<p>I can also use axios and simplify this client like this</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="ts"><code><span class="line"><span style="color:#758575DD">// src/repositories/clients/apiClient.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375">import</span><span style="color:#BD976A"> axios</span><span style="color:#4D9375"> from</span><span style="color:#C98A7D77"> '</span><span style="color:#C98A7D">axios</span><span style="color:#C98A7D77">'</span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">BASE_URL</span><span style="color:#666666">=</span><span style="color:#C98A7D77">'</span><span style="color:#C98A7D">https://api.example.com</span><span style="color:#C98A7D77">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">TOKEN</span><span style="color:#666666">=</span><span style="color:#C98A7D77">'</span><span style="color:#C98A7D">MY_JWT_TOKEN</span><span style="color:#C98A7D77">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">ApiClient</span><span style="color:#666666">=</span><span style="color:#BD976A"> axios</span><span style="color:#666666">.</span><span style="color:#80A665">create</span><span style="color:#666666">(</span><span style="color:#BD976A">BASE_URL</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#80A665">addTokenInterceptor</span><span style="color:#666666">=(</span><span style="color:#BD976A">config</span><span style="color:#666666">)=>{</span></span>
<span class="line"><span style="color:#CB7676">    const </span><span style="color:#BD976A">newConfig</span><span style="color:#666666">={...</span><span style="color:#BD976A">config</span><span style="color:#666666">};</span></span>
<span class="line"><span style="color:#4D9375">    return</span><span style="color:#BD976A"> newConfig</span><span style="color:#666666">.</span><span style="color:#BD976A">commons</span><span style="color:#666666">.</span><span style="color:#80A665">headers</span><span style="color:#666666">({</span></span>
<span class="line"><span style="color:#B8A965">            Authorization</span><span style="color:#666666">:</span><span style="color:#C98A7D77">`</span><span style="color:#C98A7D">Bearer </span><span style="color:#4D9375">${</span><span style="color:#C98A7D">TOKEN</span><span style="color:#4D9375">}</span><span style="color:#C98A7D77">`</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#666666">    });</span></span>
<span class="line"><span style="color:#666666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BD976A">ApiClient</span><span style="color:#666666">.</span><span style="color:#BD976A">interceptors</span><span style="color:#666666">.</span><span style="color:#BD976A">request</span><span style="color:#666666">.</span><span style="color:#80A665">use</span><span style="color:#666666">(</span><span style="color:#BD976A">addTokenInterceptor</span><span style="color:#666666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375">export</span><span style="color:#4D9375"> default</span><span style="color:#BD976A"> ApiClient</span><span style="color:#666666">;</span></span>
<span class="line"></span></code></pre>
<p>or use fetch like this</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="ts"><code><span class="line"><span style="color:#758575DD">// IapiClient.d.ts</span></span>
<span class="line"><span style="color:#4D9375">import</span><span style="color:#666666"> {</span><span style="color:#BD976A"> GetData</span><span style="color:#4D9375"> as</span><span style="color:#BD976A"> TGetData</span><span style="color:#666666"> }</span><span style="color:#4D9375"> from</span><span style="color:#C98A7D77"> '</span><span style="color:#C98A7D">./apis/transactions/Get</span><span style="color:#C98A7D77">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#4D9375">import</span><span style="color:#666666"> {</span><span style="color:#BD976A"> GetData</span><span style="color:#4D9375"> as</span><span style="color:#BD976A"> SGetData</span><span style="color:#666666">}</span><span style="color:#4D9375"> from</span><span style="color:#C98A7D77"> '</span><span style="color:#C98A7D">./apis/summary/Post</span><span style="color:#C98A7D77">'</span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> GetData</span><span style="color:#666666">=</span><span style="color:#5DA994">TGetData</span><span style="color:#666666">&#x26;</span><span style="color:#5DA994">SGetData</span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375">export</span><span style="color:#CB7676"> interface</span><span style="color:#5DA994"> IApiClient</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">  getData</span><span style="color:#666666">: </span><span style="color:#5DA994">GetData</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">  postData</span><span style="color:#666666">: </span><span style="color:#5DA994">PostData</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<p>This will allow us to use any method request in our repository file, and we can use these clients to fetch data in those repository files.</p>
<p>The repository file:</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="ts"><code><span class="line"><span style="color:#758575DD">// src/repositories/summaryRepository.ts</span></span>
<span class="line"><span style="color:#758575DD">// if you have request definitions import here like this</span></span>
<span class="line"><span style="color:#758575DD">/*import {</span></span>
<span class="line"><span style="color:#758575DD">  type ITransactionRequest,</span></span>
<span class="line"><span style="color:#758575DD">} from './interfaces/apis/transactions/Get.ts';</span></span>
<span class="line"><span style="color:#758575DD">*/</span></span>
<span class="line"><span style="color:#4D9375">import</span><span style="color:#BD976A"> ApiClient</span><span style="color:#4D9375"> from</span><span style="color:#C98A7D77"> '</span><span style="color:#C98A7D">./clients/apiClient.ts</span><span style="color:#C98A7D77">'</span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">summaryRepository</span><span style="color:#666666">={</span></span>
<span class="line"><span style="color:#758575DD">  //and use the payload as param typed from ITransactionRequest</span></span>
<span class="line"><span style="color:#CB7676">    async</span><span style="color:#80A665"> getSummary</span><span style="color:#666666">():</span><span style="color:#5DA994">ISummary</span><span style="color:#666666">{</span></span>
<span class="line"><span style="color:#CB7676">        const </span><span style="color:#BD976A">summary</span><span style="color:#666666"> =</span><span style="color:#4D9375"> await</span><span style="color:#BD976A"> Apiclient</span><span style="color:#666666">.</span><span style="color:#80A665">getData</span><span style="color:#666666">(</span><span style="color:#C98A7D77">'</span><span style="color:#C98A7D">summary</span><span style="color:#C98A7D77">'</span><span style="color:#666666">)&#x3C;</span><span style="color:#BD976A">ISummary</span><span style="color:#666666">></span></span>
<span class="line"><span style="color:#758575DD">        /**</span></span>
<span class="line"><span style="color:#758575DD">         * We can get the data, parse it to </span></span>
<span class="line"><span style="color:#758575DD">         * comply with ISummary, and then return it.</span></span>
<span class="line"><span style="color:#758575DD">         * */</span></span>
<span class="line"><span style="color:#4D9375">        return</span><span style="color:#BD976A"> summary</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    }</span></span>
<span class="line"><span style="color:#666666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375">export</span><span style="color:#4D9375"> default</span><span style="color:#BD976A"> summaryRepository</span></span>
<span class="line"></span></code></pre>
<p>Now we can create as many repositories as we want.</p>
<p>Then we will use the repository factory to allow use one single factory method to get the repository</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="ts"><code><span class="line"><span style="color:#758575DD">// src/repositories/RepositoryFactory.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375">import</span><span style="color:#BD976A"> SummaryRepository</span><span style="color:#666666">,</span><span style="color:#666666"> {</span><span style="color:#BD976A"> ISummaryRepository</span><span style="color:#666666"> }</span><span style="color:#4D9375"> from</span><span style="color:#C98A7D77"> '</span><span style="color:#C98A7D">./summaryRepository.ts</span><span style="color:#C98A7D77">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#4D9375">import</span><span style="color:#BD976A"> OtherRepository</span><span style="color:#666666">,</span><span style="color:#666666"> {</span><span style="color:#BD976A"> IOtherRepository</span><span style="color:#666666"> }</span><span style="color:#4D9375"> from</span><span style="color:#C98A7D77"> '</span><span style="color:#C98A7D">./OtherRepository.ts</span><span style="color:#C98A7D77">'</span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> Repositories</span><span style="color:#666666"> =</span><span style="color:#C98A7D77"> '</span><span style="color:#C98A7D">summary</span><span style="color:#C98A7D77">'</span><span style="color:#666666"> |</span><span style="color:#C98A7D77"> '</span><span style="color:#C98A7D">other</span><span style="color:#C98A7D77">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">function</span><span style="color:#80A665"> get</span><span style="color:#666666">(</span><span style="color:#BD976A">string</span><span style="color:#666666">:</span><span style="color:#C98A7D77">'</span><span style="color:#C98A7D">summary</span><span style="color:#C98A7D77">'</span><span style="color:#666666">):</span><span style="color:#5DA994">ISummaryRepository</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">function</span><span style="color:#80A665"> get</span><span style="color:#666666">(</span><span style="color:#BD976A">string</span><span style="color:#666666">:</span><span style="color:#C98A7D77">'</span><span style="color:#C98A7D">other</span><span style="color:#C98A7D77">'</span><span style="color:#666666">):</span><span style="color:#5DA994">IOtherRepository</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">function</span><span style="color:#80A665"> get</span><span style="color:#666666">(</span><span style="color:#BD976A">string</span><span style="color:#666666">:</span><span style="color:#5DA994">Repositories</span><span style="color:#666666">):</span><span style="color:#5DA994">unknown</span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">function</span><span style="color:#80A665"> get</span><span style="color:#666666">(</span><span style="color:#BD976A">name</span><span style="color:#666666">: </span><span style="color:#5DA994">Repositories</span><span style="color:#666666">)</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#4D9375">  switch</span><span style="color:#666666"> (</span><span style="color:#BD976A">name</span><span style="color:#666666">)</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#4D9375">    case</span><span style="color:#C98A7D77"> '</span><span style="color:#C98A7D">summary</span><span style="color:#C98A7D77">'</span><span style="color:#666666">:</span></span>
<span class="line"><span style="color:#4D9375">      return</span><span style="color:#BD976A"> SummaryRepository</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#4D9375">    case</span><span style="color:#C98A7D77"> '</span><span style="color:#C98A7D">other</span><span style="color:#C98A7D77">'</span><span style="color:#666666">:</span></span>
<span class="line"><span style="color:#4D9375">      return</span><span style="color:#BD976A"> OtherRepository</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#4D9375">    default</span><span style="color:#666666">:</span></span>
<span class="line"><span style="color:#4D9375">      return</span><span style="color:#CB7676"> null</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">  }</span></span>
<span class="line"><span style="color:#666666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375">export</span><span style="color:#4D9375"> default</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    get</span></span>
<span class="line"><span style="color:#666666">}</span></span>
<span class="line"></span></code></pre>
<p>This allow us to make test more easy than mocking axios with moxios or thigs like this because we can use a spy on the repository and mock the resolved value for it when we run the test</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="ts"><code><span class="line"><span style="color:#4D9375">import</span><span style="color:#BD976A"> SummaryRepository</span><span style="color:#4D9375"> from</span><span style="color:#C98A7D77"> '</span><span style="color:#C98A7D">@/repository/summaryRepository.ts</span><span style="color:#C98A7D77">'</span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BD976A">jest</span><span style="color:#666666">.</span><span style="color:#80A665">spyOn</span><span style="color:#666666">(</span><span style="color:#BD976A">SummaryRepository</span><span style="color:#666666">,</span><span style="color:#C98A7D77">'</span><span style="color:#C98A7D">getSummary</span><span style="color:#C98A7D77">'</span><span style="color:#666666">).</span><span style="color:#80A665">mockResolvedValue</span><span style="color:#666666">({</span></span>
<span class="line"><span style="color:#B8A965">  amount</span><span style="color:#666666">: </span><span style="color:#4C9A91">100</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">  currency</span><span style="color:#666666">: </span><span style="color:#C98A7D77">"</span><span style="color:#C98A7D">$</span><span style="color:#C98A7D77">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">  accountNumber</span><span style="color:#666666">: </span><span style="color:#C98A7D77">"</span><span style="color:#C98A7D">123-123-123</span><span style="color:#C98A7D77">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">});</span></span>
<span class="line"></span></code></pre>
<p>As simple as this we can mock the method getSummary and get example data for our test or make it fail.</p>
<p>Please note that there might be errors in this code as it was not run; it is only meant to illustrate how to use the repository factory. If you find any issues, please report them to my email. “Once I find the best solution, I will post it with the name of the person who fits best and was first to provide it ;) …</p> </div> <blockquote class="md:hidden text-xs mx-auto prose prose-lg mt-6 max-w-3xl">
I`m a developer that loves to share knowledge
</blockquote> <div class="mx-auto prose prose-lg mt-6 max-w-3xl"> <button class="relative my-4 bg-300 border-solid border-2 px-4 py-4 text-center flex align-middle justify-center rounded-md hover:bg-gray-200 transition text-gray-500" id="share" data-resume="The Repository Pattern in frontend development abstracts data access logic, enhancing code maintainability and testability by encapsulating operations and promoting loose coupling. It fosters modular, scalable codebases adaptable to changing requirements." data-title="Repository pattern in frontend" data-tags="microfrontend,development,frontend,backend" data-selfhealing="000006"> <svg width="1em" height="1em" viewBox="0 0 24 24" data-icon="bx:share-alt">  <symbol id="ai:bx:share-alt"><path fill="currentColor" d="M5.5 15a3.5 3.5 0 0 0 2.36-.93l6.26 3.58a3 3 0 0 0-.12.85a3.53 3.53 0 1 0 1.14-2.57l-6.26-3.58a2.7 2.7 0 0 0 .12-.76l6.15-3.52A3.49 3.49 0 1 0 14 5.5a3.4 3.4 0 0 0 .12.85L8.43 9.6A3.5 3.5 0 1 0 5.5 15m12 2a1.5 1.5 0 1 1-1.5 1.5a1.5 1.5 0 0 1 1.5-1.5m0-13A1.5 1.5 0 1 1 16 5.5A1.5 1.5 0 0 1 17.5 4m-12 6A1.5 1.5 0 1 1 4 11.5A1.5 1.5 0 0 1 5.5 10"/></symbol><use xlink:href="#ai:bx:share-alt"></use>  </svg> <span class="text-sm w-[200%] absolute left-[120%] opacity-0 transition-opacity" id="copied-text">Url Copied!</span> </button> </div>  <div class="text-center mt-8"> <a href="/notebook" class="bg-gray-100 px-5 py-3 rounded-md hover:bg-gray-200 transition">
← Back to Notebook
</a> </div>  </div>  <footer class="my-20"> <p class="text-center text-sm text-slate-500">
Copyleft © 2024 Giorgiosaud.io... None rights reserved.
</p> <!--
    Can we ask you a favor 🙏
    Please keep this backlink on your website if possible.
    or Purchase a commercial license from https://web3templates.com
  --> <p class="text-center text-xs text-slate-500 mt-1">
Powered by <a href="https://web3templates.com" target="_blank" rel="noopener" class="hover:underline">
Astroship theme
</a> </p> </footer>  </body> </html>  <style>
  .copy-code {
    position: absolute;
    top: 10px;
    right: 10px;
    font-size: 0.8rem;
    cursor: pointer;
    background: #60a5fa;
    padding: 0 0.5rem;
    color: rgb(7 1 62);
  }
  .copy-code:hover {
    background: #3b82f6;
  }
</style>